<!DOCTYPE html>
<html lang="es">
<%- include('../partials/head', { css:'productEdit_style' } ) %> 
<body>
    <div class="container">
        
        <!-- header -->
        <%- include('../partials/header') %> 
        <!-- /header --> 
        
        <!-- producto -->
        <section class="section__productEdit">

            <article class="article__productEdit"> 
                <h2>Estás editando: <%= productToEdit.name %> </h2>
                <form action="/products/edit/<%= productToEdit.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                    <div class="div__productEdit">
						<label for="name" class="form__label">Nombre del producto:</label>
						<input type="text" id="name" name="name" placeholder="Ej: Milanesas con papas fritas" class="form__input" value="<%= productToEdit.name %>">
					</div>
					<div class="div__productEdit">
						<label for="price" class="form__label">Precio del producto:</label>
						<input type="text" id="price" name="price" placeholder="Ej: 1060" class="form__input" value="<%= productToEdit.price %>">
					</div>
					<div class="div__productEdit">
						<label for="discount" class="form__label">Descuento:</label>
						<input type="text" id="discount" name="discount" placeholder="Ej: 10" class="form__input" value="<%= productToEdit.discount %>">
					</div>
					<div class="div__productEdit">
                        <label for="category" class="form__label">Categorías:</label>
                        <select name="category" multiple>
                            <%
                            var options = [ "minutas", "vegana", "vegetariana", "bebidas", "etnica", "pastas", "carne", "otro" ];
                            %>

                            <% options.forEach(option => { %> 
                                <% if(productToEdit.category.includes(option)){ %>
                                    <option value="<%= option %>" selected><%= option %></option>
                                <% } else{ %>
                                    <option value="<%= option %>"><%= option %></option>
                                <% } %>
                            <% }) %>
                        </select>
                    </div> 
					<div class="div__productEdit">
						<label for="description" class="form__label">Descripción:</label>
						<textarea name="description" id="description" class="form__input" cols="30" rows="5"><%= productToEdit.description %></textarea>
                    </div>
                    <div class="div__productEdit">
						<label for="images" class="form__label">Imagenes:</label>
						<input type="file" name="images" class="form__input" accept="image/*" multiple>
					</div>
					<div class="div__button">
						<button type="submit" class="buy__now__button">Guardar producto</button>
					</div>
					<div class="div__button">
                        <button type="reset" name="button_reset" class="button__reset">Limpiar campos</button>
                    </div>
                </form>
            </article>
        </section>

        <!-- footer -->
        <%- include('../partials/footer') %> 
        <!-- /footer -->
    </div>
</body>
</html>